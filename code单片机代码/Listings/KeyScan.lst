C51 COMPILER V9.60.0.0   KEYSCAN                                                           05/30/2021 19:16:10 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE KEYSCAN
OBJECT MODULE PLACED IN .\Objects\KeyScan.obj
COMPILER INVOKED BY: G:\Keil_v5\C51\BIN\C51.EXE KeyScan.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\K
                    -eyScan.lst) TABS(2) OBJECT(.\Objects\KeyScan.obj)

line level    source

   1          #include <reg51.h>
   2          #include "delay.h"
   3          #include "KeyScan.h"
   4          uchar _keyClick;
   5          uchar KeyScan(void){
   6   1             uchar temp,num;
   7   1             _keyClick=0;
   8   1             P1=0Xef;//扫描第一行
   9   1             temp=P1;
  10   1             if(temp!=0xef) {
  11   2                delay(10);//去除抖动 10ms
  12   2                temp=P1;
  13   2                if(temp!=0xef){ 
  14   3                   while(!(P1==0xef));            
  15   3                   switch(temp){
  16   4                   case 0xee: num=0;break;
  17   4                   case 0xed: num=1;break;
  18   4                   case 0xeb: num=2;break;
  19   4                   case 0xe7: num=3;break;
  20   4                   }
  21   3                   _keyClick=1;            
  22   3                }
  23   2            }     
  24   1      ////*************************************************************************
  25   1              P1=0Xdf;//扫描第二行
  26   1              temp=P1;
  27   1              if(temp!=0xdf)  {
  28   2                delay(10);//去除抖动 10ms
  29   2                temp=P1;
  30   2                if(temp!=0xdf){              
  31   3                  while(!(P1==0xdf));
  32   3                  switch(temp){
  33   4                    case 0xde: num=4;break;
  34   4                    case 0xdd: num=5;break;
  35   4                    case 0xdb: num=6;break;
  36   4                    case 0xd7: num=7;break;
  37   4                    }
  38   3                    _keyClick=1;                
  39   3                }
  40   2            }     
  41   1      ////*************************************************************************
  42   1              P1=0Xbf;//扫描第三行
  43   1              temp=P1;
  44   1              if(temp!=0xbf)   {
  45   2                delay(10);//去除抖动 10ms
  46   2                temp=P1;
  47   2                if(temp!=0xbf){              
  48   3                   while(!(P1==0xbf));
  49   3                   switch(temp){
  50   4                     case 0xbe: num=8;break;
  51   4                     case 0xbd: num=9;break;
  52   4                     case 0xbb: num=10;break;
  53   4                     case 0xb7: num=11;break;
  54   4                     }      
C51 COMPILER V9.60.0.0   KEYSCAN                                                           05/30/2021 19:16:10 PAGE 2   

  55   3                     _keyClick=1;                
  56   3              }
  57   2            }      
  58   1      ////*************************************************************************
  59   1              P1=0X7f;//扫描第四行
  60   1              temp=P1;
  61   1              if(temp!=0x7f)   {
  62   2                delay(10);//去除抖动 10ms
  63   2                temp=P1;
  64   2                if(temp!=0x7f){              
  65   3                   while(!(P1==0x7f));
  66   3                   switch(temp){
  67   4                     case 0x7e: num=12;break;
  68   4                     case 0x7d: num=13;break;
  69   4                     case 0x7b: num=14;break;
  70   4                     case 0x77: num=15;break;
  71   4                     }    
  72   3                    _keyClick=1;                 
  73   3                }
  74   2             }
  75   1            return num; 
  76   1        
  77   1      }//键盘扫描


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    322    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
